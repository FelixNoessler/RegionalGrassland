<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Difference equation · RegionalGrasslandSim.jl</title><meta name="title" content="Difference equation · RegionalGrasslandSim.jl"/><meta property="og:title" content="Difference equation · RegionalGrasslandSim.jl"/><meta property="twitter:title" content="Difference equation · RegionalGrasslandSim.jl"/><meta name="description" content="Documentation for RegionalGrasslandSim.jl."/><meta property="og:description" content="Documentation for RegionalGrasslandSim.jl."/><meta property="twitter:description" content="Documentation for RegionalGrasslandSim.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">RegionalGrasslandSim.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../model_io/">Model inputs and outputs</a></li><li><a class="tocitem" href="../../calibration/">Model calibration</a></li><li><span class="tocitem">Modelling API</span><ul><li class="is-active"><a class="tocitem" href>Difference equation</a></li><li><a class="tocitem" href="../Traits/">Traits</a></li><li><a class="tocitem" href="../Growth/">Growth</a></li><li><a class="tocitem" href="../Water_dynamics/">Water dynamics</a></li><li><a class="tocitem" href="../Functional_response/">Functional response</a></li></ul></li><li><a class="tocitem" href="../../all_functions/">TOC all functions</a></li><li><a class="tocitem" href="../../References/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Modelling API</a></li><li class="is-active"><a href>Difference equation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Difference equation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/FelixNoessler/RegionalGrasslandSim.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/FelixNoessler/RegionalGrasslandSim.jl/blob/master/docs/src/Modelling_API/Difference_equation/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Difference-equation"><a class="docs-heading-anchor" href="#Difference-equation">Difference equation</a><a id="Difference-equation-1"></a><a class="docs-heading-anchor-permalink" href="#Difference-equation" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RegionalGrasslandSim.initialize_parameters-Tuple{}" href="#RegionalGrasslandSim.initialize_parameters-Tuple{}"><code>RegionalGrasslandSim.initialize_parameters</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">initialize_parameters(; input_obj)</code></pre><p>Initialize all parameters and store them in one object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/FelixNoessler/RegionalGrasslandSim.jl/blob/f5bf8f475612939f8f5d234e8fa37396442b762b/src/main_functions.jl#L136-L140">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RegionalGrasslandSim.input_WHC_PWP-Tuple{}" href="#RegionalGrasslandSim.input_WHC_PWP-Tuple{}"><code>RegionalGrasslandSim.input_WHC_PWP</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">input_WHC_PWP(; sand, silt, clay, organic, bulk, rootdepth)</code></pre><p>Derive walter holding capacity (WHC) and permanent wilting point (PWP) from soil properties.</p><p class="math-container">\[\begin{align}
    θ₁ &amp;= a₁ ⋅ \text{sand} + b₁ ⋅ \text{silt} + c₁ ⋅ \text{clay} +
            d₁ ⋅ \text{organic} + e₁ ⋅ \text{bulk} \\
    \text{WHC} &amp;= θ₁ ⋅ \text{rootdepth} \\
    θ₂ &amp;= a₂ ⋅ \text{sand} + b₂ ⋅ \text{silt} + c₂ ⋅ \text{clay} +
            d₂ ⋅ \text{organic} + e₂ ⋅ \text{bulk} \\
    \text{PWP} &amp;= θ₂ ⋅ \text{rootdepth}
\end{align}\]</p><p>Equation and coefficients are taken from <a href="../../References/#Gupta1979">[19]</a>. The coefficients a, b, c, d and e differ for the water holding capacity (matrix potential Ψ = -0.07 bar) and the permanent wilting point (matrix potential Ψ = -15 bar). The empirical coefficients that were estimated by <a href="../../References/#Gupta1979">[19]</a> can be seen in the folling table:</p><table><tr><th style="text-align: right">Ψ [bar]</th><th style="text-align: right">a</th><th style="text-align: right">b</th><th style="text-align: right">c</th><th style="text-align: right">d</th><th style="text-align: right">e</th></tr><tr><td style="text-align: right">-0.07</td><td style="text-align: right">0.005678</td><td style="text-align: right">0.009228</td><td style="text-align: right">0.009135</td><td style="text-align: right">0.006103</td><td style="text-align: right">-0.2696</td></tr><tr><td style="text-align: right">-15</td><td style="text-align: right">-5.9e-5</td><td style="text-align: right">0.001142</td><td style="text-align: right">0.005766</td><td style="text-align: right">0.002228</td><td style="text-align: right">0.02671</td></tr></table><ul><li><code>sand</code>: sand content [%]</li><li><code>silt</code>: silt content [%]</li><li><code>clay</code>: clay content [%]</li><li><code>bulk</code>: bulk density [g cm⁻³]</li><li><code>organic</code>: organic matter content [%]</li><li><code>rootdepth</code>: rooting depth [mm]</li><li><code>θ</code>: water content [cm³ cm⁻³]</li><li><code>WHC</code>: water holding capacity [mm]</li><li><code>PWP</code>: permanent wilting point [mm]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/FelixNoessler/RegionalGrasslandSim.jl/blob/f5bf8f475612939f8f5d234e8fa37396442b762b/src/input_prep.jl#L61-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RegionalGrasslandSim.input_nutrients-Tuple{}" href="#RegionalGrasslandSim.input_nutrients-Tuple{}"><code>RegionalGrasslandSim.input_nutrients</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">input_nutrients(; gradientm, total_N, CN_ratio)</code></pre><p>Derive a nutrient index by combining total nitrogen and carbon to nitrogen ratio.</p><p class="math-container">\[    N = \frac{1}{1 + exp(-β₁ ⋅ \text{total_N} -β₂ ⋅ \text{CN_ratio}⁻¹)}\]</p><ul><li><code>CN_ratio</code>: carbon to nitrogen ratio [-]</li><li><code>total_N</code>: total nitrogen [g kg⁻¹]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/FelixNoessler/RegionalGrasslandSim.jl/blob/f5bf8f475612939f8f5d234e8fa37396442b762b/src/input_prep.jl#L25-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RegionalGrasslandSim.main_loop!-Tuple{}" href="#RegionalGrasslandSim.main_loop!-Tuple{}"><code>RegionalGrasslandSim.main_loop!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">main_loop!(; calc, ts, p)</code></pre><p>Run the main loop for all days.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/FelixNoessler/RegionalGrasslandSim.jl/blob/f5bf8f475612939f8f5d234e8fa37396442b762b/src/main_functions.jl#L349-L353">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RegionalGrasslandSim.one_day!-Tuple{}" href="#RegionalGrasslandSim.one_day!-Tuple{}"><code>RegionalGrasslandSim.one_day!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">one_day!(; calc, p, t)</code></pre><p>Calculate the density differences of all state variables of one day.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/FelixNoessler/RegionalGrasslandSim.jl/blob/f5bf8f475612939f8f5d234e8fa37396442b762b/src/main_functions.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RegionalGrasslandSim.solve_prob-Tuple{}" href="#RegionalGrasslandSim.solve_prob-Tuple{}"><code>RegionalGrasslandSim.solve_prob</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">solve_prob(; input_obj, inf_p, calc = nothing)</code></pre><p>Solve the model for one site.</p><p>Intialize the parameters, the state variables and the output vectors. In addition some vectors are preallocated to avoid allocations in the main loop. Then, run the main loop and store the results in the output vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/FelixNoessler/RegionalGrasslandSim.jl/blob/f5bf8f475612939f8f5d234e8fa37396442b762b/src/main_functions.jl#L317-L325">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../calibration/">« Model calibration</a><a class="docs-footer-nextpage" href="../Traits/">Traits »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.1 on <span class="colophon-date" title="Monday 16 October 2023 07:34">Monday 16 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
